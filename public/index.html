<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Client</title>
</head>
<body>

    <h1>Login</h1>
    
    <form id="theform">
        <label for="inpEmail">Email: </label>
        <input name="email" id="inpEmail" type="email" value="test@test.no" />

        <label for="inpPsw">Password: </label>
        <input name="psw" id="inpPsw" type="password" value="aaa" />

        <input type="submit" value="Login">

     
    </form>

    <br>

    <button type ="button" id ="btn">Create account</button>
    
</body>

<style>


    
    *{
        font-size: 20px;
        font-family: sans-serif;
    }

    h1{
        font-size:24px;
    }
  
    form {
            display: grid;

        }

    input {
    margin-bottom: 10px;
    height: 30px;
    padding: 3px;
    }

    body{
        background-color:rgb(168, 243, 197);
    }

    button {
        display: grid;
        position: absolute;
        top: 35%;
      left: 50%;
      transform: translate(-35%, -50%);
        width: 200px;
        height: 30px;
    }

   

        
    
    </style>

<script>    

    
    let userform = document.getElementById('userform');

    userform.addEventListener('submit', async function(evt) {

    evt.preventDefault();

    /*

    let url = "http://localhost:8080";
    let fdata = new FormData(userform);

    let cfg = {
        method: "POST",
        body: fdata
    }

    let response = await fetch(url, cfg);
    let data = await response.text();

    console.log(data);        

    */

    const inpUsername = document.getElementById("inpUsername").value;
    const inpPassword = document.getElementById("inpPsw").value;

    //localStorage.setItem('localPass', inpUsername + ":" + inpPassword);
    
    let body = {
                username: inpUsername,
                password: inpPassword
            }
            let config = {
                method: "POST",
                headers: {
                    "content-type": "application/json"
                },
                body: JSON.stringify(body)
            }

            fetch("/user", config).then(resp => {
                console.log(resp.status);
            })

    });

    

    
    
</script>

</html>
